using W6OP.CallParser

unit CallInf;

interface

uses
  Windows, SysUtils, Generics.Collections;


type
  //  cfMaritime = VE3NEA/MM (no dxcc or iota)
  //  cfPortable = P5/VE3NEA, VE3NEA/7, VE3NEA/P, VE3NEA/M
  //  cfSpecial = SQ2010NATO, M4A (special event or contest)
  TCallsignFlag = (cfInvalid, cfMaritime, cfPortable, cfSpecial, cfClub,
    cfBeacon, cfLotw, cfAmbigPrefix, cfQrp);


  TCallsignFlags = set of TCallsignFlag;


  TPrefixKind = (pfNone, pfDXCC, pfProvince, pfStation, pfDelDXCC, pfOldPrefix,
    pfNonDXCC, pfInvalidPrefix, pfDelProvince, pfCity);


  TCallsignInfo = class
    //quick info
    Dxcc,
    Wae,
    Iota,
    Wap,
    Cq,
    Itu,
    Admin1: string;
    Location: TPoint;
    Flags: TCallsignFlags;

    //from callbook
    Continent,
    TimeZone,
    Admin2,
    Name,
    Qth,
    Comment: string;
    CallbookEntry: Pointer; //to find out data sources

    //from prefix
    Kind: TPrefixKind;
    FullPrefix,
    MainPrefix,
    Country,
    Province,
    StartDate, EndDate: string;

    function IsIota: boolean;
    end;


  THitList = TObjectList<TCallsignInfo>;




implementation

{ TCallsignInfo }

function TCallsignInfo.IsIota: boolean;
begin
  Result := (Iota <> '') and (Pos('------', Iota) < 1);
end;

end.
